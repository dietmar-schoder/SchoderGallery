@page "/Artwork/{artworkId:int}"
@inherits SvgComponentBase
@inject NavigationManager Nav

@if (_svgContent?.Length > 0)
{
    <PageTitle>@PageTitle</PageTitle>

    <div style="width:100vw; height:@_screenHeightPx; display:flex; justify-content:center; align-items:center;">
        <svg width="@ArtworkBuilder.SvgWidth" height="@ArtworkBuilder.SvgHeight">
            @((MarkupString)_svgContent)

            @foreach (var area in ArtworkBuilder.ClickableAreas)
            {
                if (area.ReRender)
                {
                    <rect x="@area.X" y="@area.Y" width="@area.Width" height="@area.Height"
                          fill="transparent" stroke="none"
                          style="cursor:pointer;"
                          title="Repaint artwork"
                          @onclick="RefreshAsync">
                    </rect>
                }
                else
                {
                    <rect x="@area.X" y="@area.Y" width="@area.Width" height="@area.Height"
                          fill="transparent" stroke="none"
                          style="cursor:pointer;"
                          title="@area.Tooltip"
                          @onclick="() => Nav.NavigateTo(area.Page)">
                    </rect>
                }
            }
        </svg>
    </div>
}